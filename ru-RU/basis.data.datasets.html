<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Набор | Содержание</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.6.1">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <meta name="author" content="basisjs">
    
    
    <link rel="next" href="./basis.data.map.html" />
    
    
    <link rel="prev" href="./basis.data.Object.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book" data-github="basisjs/articles" data-level="4.3" data-basepath="." data-revision="1426118090885">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/basisjs/articles" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/basisjs/articles/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/basisjs/articles/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Содержание</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/basisjs" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/basisjs/articles/issues" target="blank" class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/basisjs/articles/edit/master/basis.data.datasets.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

	

        
        <li class="divider"></li>
        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="get-started.html">
            
                
                    <a href="./get-started.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Приступая к разработке
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="basis.html">
            
                
                    <a href="./basis.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Ядро
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="config.html">
            
                
                    <a href="./config.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Конфигурация
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="basis.Class.html">
            
                
                    <a href="./basis.Class.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Классы
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="resources.html">
            
                
                    <a href="./resources.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Модульность
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="basis.Token.html">
            
                
                    <a href="./basis.Token.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         basis.Token
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="bindingbridge.html">
            
                
                    <a href="./bindingbridge.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         Binding bridge
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="basis.event.html">
            
                
                    <a href="./basis.event.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         События
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="basis.data.html">
            
                
                    <a href="./basis.data.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Данные
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="basis.data.Value.html">
            
                
                    <a href="./basis.data.Value.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Скаляр
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="basis.data.Object.html">
            
                
                    <a href="./basis.data.Object.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Объект
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="4.3" data-path="basis.data.datasets.html">
            
                
                    <a href="./basis.data.datasets.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         Набор
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="basis.data.map.html">
            
                
                    <a href="./basis.data.map.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Карта
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="basis.data.dataset.html">
            
                
                    <a href="./basis.data.dataset.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         basis.data.dataset
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="basis.dom.wrapper.html">
            
                
                    <a href="./basis.dom.wrapper.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         basis.dom.wrapper
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="basis.dom.wrapper_dom.html">
            
                
                    <a href="./basis.dom.wrapper_dom.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         DOM
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="basis.dom.wrapper_childNodes.html">
            
                
                    <a href="./basis.dom.wrapper_childNodes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Дочерние узлы
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.2.1" data-path="basis.dom.wrapper_sorting.html">
            
                
                    <a href="./basis.dom.wrapper_sorting.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.1.</b>
                        
                         Сортировка
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.2.2" data-path="basis.dom.wrapper_grouping.html">
            
                
                    <a href="./basis.dom.wrapper_grouping.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.2.</b>
                        
                         Группировка
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6.3" data-path="basis.dom.wrapper_data.html">
            
                
                    <a href="./basis.dom.wrapper_data.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                         Привязка данных
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.4" data-path="basis.dom.wrapper_owner.html">
            
                
                    <a href="./basis.dom.wrapper_owner.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                         Паттерн &quot;владелец&quot;
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.5" data-path="basis.dom.wrapper_satellite.html">
            
                
                    <a href="./basis.dom.wrapper_satellite.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                         Сателлиты
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.6" data-path="basis.dom.wrapper_disabled.html">
            
                
                    <a href="./basis.dom.wrapper_disabled.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.6.</b>
                        
                         Доступность (disabled/enabled)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.7" data-path="basis.dom.wrapper_selection.html">
            
                
                    <a href="./basis.dom.wrapper_selection.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.7.</b>
                        
                         Выделение (selection)
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="basis.ui.html">
            
                
                    <a href="./basis.ui.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Интерфейс пользователя
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" data-path="basis.ui_template.html">
            
                
                    <a href="./basis.ui_template.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                         Привязка шаблонов
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.2" data-path="basis.ui_bindings.html">
            
                
                    <a href="./basis.ui_bindings.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                         Биндинги (bindings)
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7.3" data-path="basis.ui_actions.html">
            
                
                    <a href="./basis.ui_actions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                         Обратная связь (actions)
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="basis.template.html">
            
                
                    <a href="./basis.template.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         Шаблоны
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="8.1" data-path="basis.template_format.html">
            
                
                    <a href="./basis.template_format.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                         Формат шаблонов
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.2" data-path="basis.template_bindings.html">
            
                
                    <a href="./basis.template_bindings.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                         Правила применения значений биндингам
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8.3" data-path="basis.template_theme.html">
            
                
                    <a href="./basis.template_theme.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.3.</b>
                        
                         Темы
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="9" data-path="basis.l10n.html">
            
                
                    <a href="./basis.l10n.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                         L10n
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="10" data-path="basis.net.html">
            
                
                    <a href="./basis.net.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                         basis.net
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="10.1" data-path="basis.net.ajax.html">
            
                
                    <a href="./basis.net.ajax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                         basis.net.ajax
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="10.2" data-path="basis.net.action.html">
            
                
                    <a href="./basis.net.action.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                         basis.net.action
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="10.3" data-path="basis.net.service.html">
            
                
                    <a href="./basis.net.service.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                         basis.net.service
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="11" data-path="basis.router.html">
            
                
                    <a href="./basis.router.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                         basis.router
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="12" data-path="tutorial/index.html">
            
                
                    <a href="./tutorial/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                         Руководство
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="12.1" data-path="tutorial/part1/index.html">
            
                
                    <a href="./tutorial/part1/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                         Часть 1. Начало работы, представления, модули, инструменты
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="12.2" data-path="tutorial/part2/index.html">
            
                
                    <a href="./tutorial/part2/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                         Часть 2. Работа с данными: модели, наборы и значения
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 29.26829268292683%;min-width: 26.829268292682926%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./get-started.html" title="Приступая к разработке" class="chapter done new-chapter" data-progress="1" style="left: 2.4390243902439024%;"></a>
    
        <a href="./basis.html" title="Ядро" class="chapter done new-chapter" data-progress="2" style="left: 4.878048780487805%;"></a>
    
        <a href="./config.html" title="Конфигурация" class="chapter done " data-progress="2.1" style="left: 7.317073170731708%;"></a>
    
        <a href="./basis.Class.html" title="Классы" class="chapter done " data-progress="2.2" style="left: 9.75609756097561%;"></a>
    
        <a href="./resources.html" title="Модульность" class="chapter done " data-progress="2.3" style="left: 12.195121951219512%;"></a>
    
        <a href="./basis.Token.html" title="basis.Token" class="chapter done " data-progress="2.4" style="left: 14.634146341463415%;"></a>
    
        <a href="./bindingbridge.html" title="Binding bridge" class="chapter done " data-progress="2.5" style="left: 17.073170731707318%;"></a>
    
        <a href="./basis.event.html" title="События" class="chapter done new-chapter" data-progress="3" style="left: 19.51219512195122%;"></a>
    
        <a href="./basis.data.html" title="Данные" class="chapter done new-chapter" data-progress="4" style="left: 21.951219512195124%;"></a>
    
        <a href="./basis.data.Value.html" title="Скаляр" class="chapter done " data-progress="4.1" style="left: 24.390243902439025%;"></a>
    
        <a href="./basis.data.Object.html" title="Объект" class="chapter done " data-progress="4.2" style="left: 26.829268292682926%;"></a>
    
        <a href="./basis.data.datasets.html" title="Набор" class="chapter done " data-progress="4.3" style="left: 29.26829268292683%;"></a>
    
        <a href="./basis.data.map.html" title="Карта" class="chapter  " data-progress="4.4" style="left: 31.70731707317073%;"></a>
    
        <a href="./basis.data.dataset.html" title="basis.data.dataset" class="chapter  new-chapter" data-progress="5" style="left: 34.146341463414636%;"></a>
    
        <a href="./basis.dom.wrapper.html" title="basis.dom.wrapper" class="chapter  new-chapter" data-progress="6" style="left: 36.58536585365854%;"></a>
    
        <a href="./basis.dom.wrapper_dom.html" title="DOM" class="chapter  " data-progress="6.1" style="left: 39.02439024390244%;"></a>
    
        <a href="./basis.dom.wrapper_childNodes.html" title="Дочерние узлы" class="chapter  " data-progress="6.2" style="left: 41.46341463414634%;"></a>
    
        <a href="./basis.dom.wrapper_sorting.html" title="Сортировка" class="chapter  " data-progress="6.2.1" style="left: 43.90243902439025%;"></a>
    
        <a href="./basis.dom.wrapper_grouping.html" title="Группировка" class="chapter  " data-progress="6.2.2" style="left: 46.34146341463415%;"></a>
    
        <a href="./basis.dom.wrapper_data.html" title="Привязка данных" class="chapter  " data-progress="6.3" style="left: 48.78048780487805%;"></a>
    
        <a href="./basis.dom.wrapper_owner.html" title="Паттерн &quot;владелец&quot;" class="chapter  " data-progress="6.4" style="left: 51.21951219512195%;"></a>
    
        <a href="./basis.dom.wrapper_satellite.html" title="Сателлиты" class="chapter  " data-progress="6.5" style="left: 53.65853658536585%;"></a>
    
        <a href="./basis.dom.wrapper_disabled.html" title="Доступность (disabled/enabled)" class="chapter  " data-progress="6.6" style="left: 56.09756097560975%;"></a>
    
        <a href="./basis.dom.wrapper_selection.html" title="Выделение (selection)" class="chapter  " data-progress="6.7" style="left: 58.53658536585366%;"></a>
    
        <a href="./basis.ui.html" title="Интерфейс пользователя" class="chapter  new-chapter" data-progress="7" style="left: 60.97560975609756%;"></a>
    
        <a href="./basis.ui_template.html" title="Привязка шаблонов" class="chapter  " data-progress="7.1" style="left: 63.41463414634146%;"></a>
    
        <a href="./basis.ui_bindings.html" title="Биндинги (bindings)" class="chapter  " data-progress="7.2" style="left: 65.85365853658537%;"></a>
    
        <a href="./basis.ui_actions.html" title="Обратная связь (actions)" class="chapter  " data-progress="7.3" style="left: 68.29268292682927%;"></a>
    
        <a href="./basis.template.html" title="Шаблоны" class="chapter  new-chapter" data-progress="8" style="left: 70.73170731707317%;"></a>
    
        <a href="./basis.template_format.html" title="Формат шаблонов" class="chapter  " data-progress="8.1" style="left: 73.17073170731707%;"></a>
    
        <a href="./basis.template_bindings.html" title="Правила применения значений биндингам" class="chapter  " data-progress="8.2" style="left: 75.60975609756098%;"></a>
    
        <a href="./basis.template_theme.html" title="Темы" class="chapter  " data-progress="8.3" style="left: 78.04878048780488%;"></a>
    
        <a href="./basis.l10n.html" title="L10n" class="chapter  new-chapter" data-progress="9" style="left: 80.48780487804878%;"></a>
    
        <a href="./basis.net.html" title="basis.net" class="chapter  " data-progress="10" style="left: 82.92682926829268%;"></a>
    
        <a href="./basis.net.ajax.html" title="basis.net.ajax" class="chapter  " data-progress="10.1" style="left: 85.36585365853658%;"></a>
    
        <a href="./basis.net.action.html" title="basis.net.action" class="chapter  " data-progress="10.2" style="left: 87.8048780487805%;"></a>
    
        <a href="./basis.net.service.html" title="basis.net.service" class="chapter  " data-progress="10.3" style="left: 90.2439024390244%;"></a>
    
        <a href="./basis.router.html" title="basis.router" class="chapter  " data-progress="11" style="left: 92.6829268292683%;"></a>
    
        <a href="./tutorial/index.html" title="Руководство" class="chapter  " data-progress="12" style="left: 95.1219512195122%;"></a>
    
        <a href="./tutorial/part1/index.html" title="Часть 1. Начало работы, представления, модули, инструменты" class="chapter  " data-progress="12.1" style="left: 97.5609756097561%;"></a>
    
        <a href="./tutorial/part2/index.html" title="Часть 2. Работа с данными: модели, наборы и значения" class="chapter  " data-progress="12.2" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_8">
                    
                        <h1 id="">Наборы</h1>
<p>Набор (dataset) – <em>неупорядоченное множество</em> объектов данных (экземпляров <code>basis.data.Object</code> и его потомков). Так как набор это множество, то каждый объект в наборе присутствует в единственном экземпляре. Набор отвечает на вопрос входит ли некоторый объект в его состав или нет. </p>
<p>Базовым классом этой группы классов является <code>basis.data.ReadOnlyDataset</code>.</p>
<blockquote>
<p>До версии 1.3 этот класс назывался <code>AbstractDataset</code>.</p>
</blockquote>
<p>Наборы бывают двух типов: пользовательские, имеющие интерфейс для изменения состава, и автоматические, состав которых определяется некоторым правилом.</p>
<p>Основные классы наборов описаны в пространстве имен <code>basis.data</code>, дополнительные в <a href="basis.data.dataset.html"><code>basis.data.dataset</code></a> (большая часть <a href="basis.data.dataset.html">автоматических наборов</a>), <code>basis.data.index</code> и других.</p>
<h2 id="readonlydataset">ReadOnlyDataset</h2>
<p><code>ReadOnlyDataset</code> наследуется от <code>basis.data.AbstactData</code> и является базовым классом для наборов. Экземпляры класса хранят информацию о входении в них объектов, но не имеют интерфейса для модификации этой информации.</p>
<p>Различные классы наборов хранят элементы в виде хеш-таблиц (карт) или более сложных структур, поэтому для получения списка всех элементов набора в виде массива используется универсальный метод <code>getItems()</code>. Узнать количество элементов можно помощью свойства <code>itemCount</code>. </p>
<pre><code class="lang-js">console.log(dataset.getItems());
<span class="hljs-comment">// console&gt; [object, object, object]</span>

console.log(dataset.itemCount);
<span class="hljs-comment">// console&gt; 3</span>
</code></pre>
<blockquote>
<p>Для улучшения производительности, метод <code>getItems()</code> кеширует результат выполнения, до тех пор, пока набор не будет изменен или разрушен. Таким образом, при повторном вызове возвращается тот же массив. По этой причине, массив, возвращаемый этим метод, нельзя менять. В целом, стоит избегать использования <code>getItems()</code> и обычно в его использовании нет необходимости.</p>
</blockquote>
<p>Метод <code>getValues()</code> позволяет получить список значений, полученных от каждого элемента набора. Методу в качестве параментра передается функция-геттер или строка, из которой генерируется такая функция (используется <code>basis.getter()</code>).</p>
<pre><code class="lang-js">dataset.getValues(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(item)</span>{</span>
  <span class="hljs-keyword">return</span> item.data.value;
});

<span class="hljs-comment">// или</span>

dataset.getValues(<span class="hljs-string">'data.value'</span>);

<span class="hljs-comment">// обе записи эквивалентны</span>

dataset.getItems().map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(item)</span>{</span>
  <span class="hljs-keyword">return</span> item.data.value;
});
</code></pre>
<blockquote>
<p>Результат выполнения <code>getValues()</code> не кешируется и может использовать как угодно.</p>
</blockquote>
<p>Чтобы получить произвольный элемент набора используется метод <code>pick()</code>, а для получения <code>N</code> (максимум) произвольных элементов – метод <code>top()</code>.</p>
<pre><code class="lang-js">console.log(dataset.pick());
<span class="hljs-comment">// console&gt; object</span>

console.log(dataset.top(<span class="hljs-number">2</span>));
<span class="hljs-comment">// console&gt; [object, object]</span>
</code></pre>
<p>Чтобы узнать входит ли объект в состав набора используется метод <code>has()</code>.</p>
<pre><code class="lang-js">console.log(dataset.has(dataset.pick()));
<span class="hljs-comment">// console&gt; true</span>
</code></pre>
<p>Метод <code>forEach</code> позволяет выполнить некоторую функцию для каждого элемента набора.</p>
<pre><code class="lang-js">dataset.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(item)</span>{</span>
  console.log(item);
});

<span class="hljs-comment">// эквивалентно</span>

dataset.getItems().forEach(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(item)</span>{</span>
  console.log(item);
});
</code></pre>
<p>Когда меняется состав набора, выбрасывается событие <code>itemsChanged</code>. Обработчики получают параметр <code>delta</code> - изменения в наборе. Если добавлены новые элементы, то дельта содержит свойство <code>inserted</code>, массив с новыми объектами, а если некоторые элементы удалены – свойство <code>deleted</code>, массив с удаленными объектами.</p>
<pre><code class="lang-js">dataset.addHandler({
  itemsChanged: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(dataset, delta)</span>{</span>
    <span class="hljs-keyword">if</span> (delta.inserted)
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, item; item = delta.inserted[i]; i++)
        console.log(<span class="hljs-string">'item added'</span>, item);

    <span class="hljs-keyword">if</span> (delta.deleted)
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, item; item = delta.deleted[i]; i++)
        console.log(<span class="hljs-string">'item removed'</span>, item);
  }
});
</code></pre>
<h2 id="dataset">Dataset</h2>
<p>Класс <code>Dataset</code> наследуется от <code>ReadOnlyDataset</code> и предназначен для создания наборов, составом которых можно управлять.</p>
<p>Этот класс предоставляет следующие методы:</p>
<ul>
<li><p><code>add(items)</code> - добавление элементов; </p>
</li>
<li><p><code>remove(items)</code> - удаление элементов;</p>
</li>
<li><p><code>set(items)</code> - задать состав;</p>
</li>
<li><p><code>sync(items)</code> - синхронизация (см. подробнее ниже);</p>
</li>
<li><p><code>clear()</code> - очистить (удалить все элементы);</p>
</li>
</ul>
<p>Методам <code>add()</code>, <code>remove()</code>, <code>set()</code> и <code>sync()</code> передается массив элементов. Методам <code>add()</code> и <code>remove()</code> можно передавать одиночный объект. При выполнении методов дубликаты и значения не являющиеся экземплярами <code>basis.data.Object</code> – игнорируются.</p>
<p>В ходе выполнения методов составляется дельта изменений: какие элементы удалены и какие добавлены. Если дельта не пустая (хотя бы один элемент добавился или удалился), то выбрасывается событие <code>itemsChanged</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> dataset = <span class="hljs-keyword">new</span> basis.data.Dataset();

dataset.add([object1, object2]);
<span class="hljs-comment">// console&gt; { inserted: [object1, object2] }</span>
<span class="hljs-comment">// если необходимо добавить один элемент, не обязательно передавать массив</span>
dataset.add(object3);
<span class="hljs-comment">// console&gt; { inserted: [object3] }</span>

dataset.remove([object3, object1]);
<span class="hljs-comment">// console&gt; { deleted: [object3, object1] }</span>
<span class="hljs-comment">// если необходимо удали один элемент, не обязательно передавать массив</span>
dataset.remove(object2);
<span class="hljs-comment">// console&gt; { deleted: [object2] }</span>

dataset.set([object1, object3]);
<span class="hljs-comment">// console&gt; { inserted: [object1, object3] }</span>
dataset.set([object3, object2]);
<span class="hljs-comment">// console&gt; { inserted: [object2], deleted: [object1] }</span>
</code></pre>
<p>Процесс синхронизации (метод <code>sync()</code>) подразумевает сравнение текущего набора с переданным списком элементом. В случае удаления элемента из набора, он разрушается (вызывается его метод <code>destroy</code>).</p>
<p>Синхронизация работает слующим образом. Пусть текущий список элементов это <code>A</code>, а переданный список – <code>B</code>. Если элемент присутствует в обоих списках, то никаких действий не производится. Если элемент есть только в <code>A</code>, но отсутствует в <code>B</code>, то элемент разрушается (вызывается его метод <code>destroy</code>). Если элемента нет в списке <code>A</code>, но он есть в <code>B</code>, то он добавляется в набор.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> DemoObject = basis.data.Object.subclass({
  destroy: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
    console.log(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">' destroy'</span>);
  }
});
<span class="hljs-keyword">var</span> object1 = <span class="hljs-keyword">new</span> DemoObject({ name: <span class="hljs-string">'object1'</span> });
<span class="hljs-keyword">var</span> object2 = <span class="hljs-keyword">new</span> DemoObject({ name: <span class="hljs-string">'object2'</span> });
<span class="hljs-keyword">var</span> object3 = <span class="hljs-keyword">new</span> DemoObject({ name: <span class="hljs-string">'object3'</span> });
<span class="hljs-keyword">var</span> dataset = <span class="hljs-keyword">new</span> basis.data.Dataset();

dataset.set([object1, object2]);

dataset.sync([object2, object3]);
<span class="hljs-comment">// console&gt; object1 destroy</span>
<span class="hljs-comment">// console&gt; { inserted: [object3], deleted: [object1] }</span>
</code></pre>
<p>Можно задать состав набора при его создании, используя свойство <code>items</code>. В дальнейшем это свойство никак не используется и равно <code>null</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> dataset = <span class="hljs-keyword">new</span> basis.data.Dataset({
  items: [
    ...
  ]
});
</code></pre>
<p>Если элемент набора разрушается (вызывается его метод <code>destroy()</code>), он автоматически удаляется из набора.</p>
<h2 id="resolvedataset">resolveDataset</h2>
<p>Многие классы позволяют подключать наборы. Нередко ссылка на набор хранится свойством некоторого объекта. Функция <code>resolveDataset</code> умеет получать ссылку на набор из некоторых типов объектов, и отслеживать изменения в исходном объекте, обновляя ссылку на набор. При этом создается специальный объект – адаптер, который хранит информацию о связи.</p>
<p>Функция принимает 4 параметра:</p>
<ul>
<li><code>context</code> – объект, которому привязывается набор;</li>
<li><code>fn</code> – функция, выполняемая при изменении ссылки на набор;</li>
<li><code>source</code> – значение, из которого нужно получить ссылку на набор;</li>
<li><code>property</code> – свойство для хранения ссылки на адаптер.</li>
</ul>
<p>Значение разрешается следующим образом. Если значение является функцией, то она вызывается (с контекстом <code>context</code>), а результат используется для разрешения ссылки на набор. Если значение <code>basis.data.DatasetWrapper</code>, то берется значение из свойства <code>dataset</code> и отслеживается его изменение (слушается событие <code>datasetChanged</code>). Иначе, если значение экземпляр класса <code>basis.data.Value</code>, то используется значение из свойства <code>value</code> и отслеживается его изменение (слушается событие <code>change</code>). Так же разрешаются объекты с интерфейсом <code>bindingBridge</code> (например, <code>basis.Token</code>). При этом значения <code>basis.data.Value</code> и объектов <code>bindingBridge</code> тоже разрешается с помощью <code>resolveDataset</code>. Если итоговое значение является экземпляром <code>ReadOnlyDataset</code>, то оно и возвращается, иначе возвращается <code>null</code>.</p>
<p>Таким образом поддерживаются следующие значения для получаения ссылки на набор:</p>
<ul>
<li>функция</li>
<li><code>basis.data.DatasetWrapper</code></li>
<li><code>basis.data.Value</code></li>
<li>объект с <code>bindingBridge</code> (например, <code>basis.Token</code>)</li>
<li><code>basis.data.ReadOnlyDataset</code></li>
</ul>
<p>Обычно функция не используется самостоятельно, но ее используют различные методы. Например, <code>basis.data.DatasetWrapper#setDataset</code> или <code>basis.ui.Node#setDataSource</code>.</p>
<p>Так можно хранить ссылку на набор, например, в экземпляре <code>basis.data.Value</code>:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> currentSet = <span class="hljs-keyword">new</span> basis.data.Value();
<span class="hljs-keyword">var</span> node = <span class="hljs-keyword">new</span> basis.ui.Node({
  dataSource: currentSet
});

console.log(node.dataSource);
<span class="hljs-comment">// console&gt; null</span>
<span class="hljs-comment">// node.dataSourceAdapter_ - адаптер для currentSet</span>
<span class="hljs-comment">// node.dataSourceAdapter_.source === currentSet</span>

currentSet.set(exampleDataset);
console.log(node.dataSource === exampleDataset);
<span class="hljs-comment">// console&gt; true</span>
</code></pre>
<p>А вот так можно автоматизировать установку <code>dataSource</code> из одного из полей свойства <code>data</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> node = <span class="hljs-keyword">new</span> basis.data.Node({
  dataSource: basis.data.Value.factory(<span class="hljs-string">'update'</span>, <span class="hljs-string">'data.items'</span>),
  data: {
    items: <span class="hljs-keyword">new</span> basis.data.Dataset()
  }
});

console.log(node.dataSource === node.data.items);
<span class="hljs-comment">// console&gt; true</span>

console.log(node.dataSource);
<span class="hljs-comment">// console&gt; basis.data.Dataset {}</span>

node.update({ items: <span class="hljs-literal">null</span> });
console.log(node.dataSource);
<span class="hljs-comment">// console&gt; null</span>
</code></pre>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./basis.data.Object.html" class="navigation navigation-prev " aria-label="Previous page: Объект"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./basis.data.map.html" class="navigation navigation-next " aria-label="Next page: Карта"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"white","family":"sans","size":1}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
