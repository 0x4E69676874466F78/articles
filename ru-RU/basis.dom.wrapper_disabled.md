# Доступность (disable/enable)

При наступлении различных условий необходимо блокировать часть интерфейса, чтобы пользователь не мог совершить непреднамеренных действий. Для реализации этого используется паттерн disabled/enabled.

В случае если узел недоступен (disabled), он не должен реагировать на пользовательские действия. Недоступность не распространяется на пользовательский код, то есть не влияет на действия, которые иницируются не пользователем.

## Принцип работы

Для задания состояния "недоступен" используется свойство `disabled`, которое по умолчанию равно `false`. Для изменения используются методы `disable` (меняет значение на `true`), `enable` (меняет значение на `false`) и `setDisabled` (меняет значение в зависимости от переданного значения).

Но на доступность или недоступность узла влияет не только свойство `disabled`, но и свойство `disabled` вышестоящих узлов. То есть важно в каком контексте находится узел.

## Контекст

Узел со значением свойства `disabled` равным `true` влияет на все свои нижестоящие узлы (то есть на дочерние узлы, дочерние узлы дочерних узлов и т.д.) и сателлиты, другими словами, создает контекст. Для распространения влияния вышестоящего узла на нижестоящие, используется свойство `contextDisabled`.

> Каждый узел имеет свое значение свойства `disabled` и его нельзя менять, иначе при разблокировке вышестоящего узла (установке `disable` в значение `false`) можно потерять настоящее состояние нижестоящих узлов, которые должны остаться заблокированными.

При изменении свойства `disabled`, на то же значение меняются и свойства `contextDisabled` для всех нижестоящих узлов, ровно до тех узлов, у которых свойство `disabled` имеет значение `true`, так как последние создают собственный контекст.

Узел считает недоступным если его свойство `disabled` или свойство `contextDisabled` равно `true`. Для проверки доступности узла используется метод `isDisabled`.

## События

Когда узел становится недоступным (`disabled` или `contextDisabled` равно `true`), то выбрасывается событие `disable`, когда становится доступным (`disabled` и `contextDisabled` равны `false`) – событие `enable`. События не выбрасываются при создании экземпляра.
